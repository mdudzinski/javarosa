<?xml version="1.0" encoding="UTF-8"?>
<h:html xmlns:h="http://www.w3.org/1999/xhtml" xmlns:jr="http://openrosa.org/javarosa">
    <h:head>
        <h:title>limited repeats count</h:title>
        <model>
            <instance>
                <data id="limited-repeats-count">
                    <repeat_count/>
                    <limited_repeat>
                        <free_text_1/>
                        <free_text_2/>
                    </limited_repeat>
                    <non_relevant_text/>
                </data>
            </instance>
            <bind nodeset="/data/repeat_count" type="int"/>
            <bind nodeset="/data/limited_repeat" relevant="/data/repeat_count > 0"/>
            <bind nodeset="/data/limited_repeat/free_text_1" type="string"/>
            <bind nodeset="/data/limited_repeat/free_text_2" type="string"/>
            <bind nodeset="/data/non_relevant_text" type="string" relevant="false()"/>
        </model>
    </h:head>
    <h:body>
        <input ref="/data/repeat_count">
            <label>repeat count</label>
        </input>
        <group>
            <label>limited repeat</label>
            <repeat nodeset="/data/limited_repeat" jr:count="/data/repeat_count"
                    jr:noAddRemove="true()" appearance="field-list">
                <input ref="/data/limited_repeat/free_text_1">
                    <label>free text 1</label>
                </input>
                <input ref="/data/limited_repeat/free_text_2">
                    <label>free text 2</label>
                </input>
            </repeat>
        </group>
        <input ref="/data/non_relevant_text">
            <label>should not be visible</label>
        </input>
    </h:body>
</h:html>
